\chapter{Approach \& Results}\label{chap:approach_results}

\section{Current Design Analysis}\label{sec:current_design_analysis}

A thorough analysis of the current design of the application was the first step taken, in order to identify potencial problems within the platform. This study was conducted using a series of tools\footnote{Rubymine 2.0\cite{rubymine}, Rails ERD\cite{rails_erd}} that, unfortunately (at the time of writing), proved unsuccessful in extracting an \emph{Entity Relationship Diagram} from the code of the application. As such, another approach was taken: the product owner of the platform was queried on what he felt were the variability ``hotspots'' of the application: this narrowed the scope of the current design analysis, allowing focus on three different areas, as stated in~\ref{sec:case-study_areas}. These areas were then manually studied in order to extract the \emph{Entity Relationship Diagrams} relative to each one, which allowed analyzing each one as independently as possible, so that the applied design patterns (if any) would emerge --- making the task of pinponting exactly what was wrong with each approach much easier.

\section{Variability Analysis}\label{sec:variability_analysis}

Each one of the areas refered in \ref{sec:case-study_areas} was then studied in order to determine their variability requirements, and to which degree this variability should exist: developer, system administrator, or even end-user. These requirements were defined by the carefuly considering the opinions from the users of the platform, the product owner and the main developers. These requirements were then used to determine which design patterns would be more appropriate to achieve the problems posed by each of the areas, and why.

\section{Implementation \& Impact Analysis}

For each one the three focus areas, functional prototypes were developed, either inside the platform (Social Network, \ref{sec:fa_social_network}, and User Roles, \ref{sec:fa_roles}) or outside (Document Editor, \ref{sec:fa_documents}), as an independent application that will, as soon as possible, be integrated into the main platform. These prototypes, however simplistic (and not yet in production), will be able to validate the research and decisions made throughout the next sections. All of the prototypes are implemented using Ruby 1.9.1 and Rails 2.3.9, as used in the production and development environments of \emph{escolinhas.pt}. 
